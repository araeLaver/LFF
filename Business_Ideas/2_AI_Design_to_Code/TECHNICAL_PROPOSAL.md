# Technical Proposal: AI 디자인-to-코드 변환

## 1. 아키텍처 원칙

*   **컴포넌트 기반 접근:** 디자인을 단순히 픽셀 단위로 복제하는 것이 아니라, 재사용 가능한 컴포넌트(Button, Card, Input 등) 단위로 인식하고 구조화하여 코드를 생성한다. 이는 '사람이 작성한 것 같은' 코드 품질의 핵심이다.
*   **모델 유연성:** 특정 AI 모델에 종속되지 않는 구조를 설계한다. 향후 더 뛰어난 성능의 멀티모달 모델이 등장했을 때 쉽게 교체하고 테스트할 수 있어야 한다.
*   **결정론적 출력:** 동일한 디자인 입력에 대해서는 항상 일관된 코드 결과를 출력하여 사용자에게 신뢰를 준다.

## 2. 주요 기술 스택

### 2.1. 프론트엔드 (Frontend)
*   **선택:** **React + Vite**
*   **이유:**
    *   코드 에디터(Monaco Editor), UI 렌더링 등 복잡한 인터랙션을 구현하기에 적합하다.
    *   Vite는 매우 빠른 개발 서버 속도와 빌드 성능을 제공하여 개발 생산성이 높다.
    *   웹어셈블리(WASM) 기반 라이브러리와의 통합이 용이하다.

### 2.2. 백엔드 (Backend) - 코드 생성 엔진
*   **선택:** **Python + FastAPI**
*   **이유:**
    *   컴퓨터 비전(OpenCV, Pillow) 및 AI/ML 라이브러리(PyTorch, TensorFlow)를 활용하기 위한 최적의 생태계를 제공한다.
    *   무거운 AI 모델 추론 작업을 비동기적으로 처리하는 데 유리하다.
    *   Figma 파일(JSON)을 파싱하고, 디자인 트리를 분석하는 등 복잡한 데이터 처리 작업에 강점을 보인다.

### 2.3. AI / 멀티모달 모델
*   **접근 방식:** **2단계 AI 파이프라인**
    1.  **1단계 (분석/구조화):** 컴퓨터 비전(CV) 모델을 사용하여 Figma 렌더링 이미지를 분석, 기본 디자인 요소(버튼, 텍스트, 이미지 등)를 식별하고 그들의 관계(위치, 그룹핑)를 파악하여 DOM 트리와 유사한 구조화된 데이터(JSON)를 생성한다.
    2.  **2단계 (코드 생성):** 구조화된 JSON 데이터를 LLM(대규모 언어 모델)의 입력으로 제공하여, 목표 프레임워크(React)와 스타일(Tailwind CSS)에 맞는 코드를 생성한다. 이 방식은 LLM이 시각적 맥락을 잘못 해석할 가능성을 줄여주고, 코드 품질을 높인다.
*   **활용 모델:**
    *   **CV 모델:** 자체적으로 학습시킨 YOLO 또는 Detectron2 모델을 사용하거나, Google Vision API 등을 활용할 수 있다.
    *   **LLM:** 코드 생성에 특화된 모델(예: Google의 CodeGemma, OpenAI의 Codex 후속 모델)을 기반으로, 우리의 코드 스타일에 맞게 **미세 조정(Fine-tuning)**하여 사용한다.

### 2.4. 핵심 연동 API (Integrations)
*   **Figma API:** 사용자의 Figma 파일을 읽고, 노드 트리(JSON)를 가져오고, 각 노드의 렌더링된 이미지를 얻기 위한 핵심 의존성이다.

## 3. 데이터 파이프라인
1.  **입력:** Figma 파일 URL
2.  **Figma API 호출:** 파일의 노드 트리를 JSON 형태로 가져온다.
3.  **디자인 분석 (백엔드):**
    *   JSON 트리를 순회하며 각 노드(프레임, 컴포넌트, 텍스트 등)의 속성(크기, 색상, 폰트 등)을 분석한다.
    *   필요 시 특정 노드를 이미지로 렌더링하여 CV 모델로 분석한다.
4.  **구조화된 데이터 생성:** 분석된 정보를 바탕으로 코드 생성을 위한 중간 단계의 추상 구문 트리(AST)를 생성한다.
5.  **코드 생성 (LLM):** AST를 프롬프트와 함께 LLM에 전달하여 최종 React/Tailwind 코드를 생성한다.
6.  **출력:** 생성된 코드를 사용자에게 제공.
